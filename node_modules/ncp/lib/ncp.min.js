var fs=require("fs"),path=require("path");module.exports=ncp;ncp.ncp=ncp;
function ncp(H,I,c,w){function x(a){y++;if(k)if(k instanceof RegExp){if(!k.test(a))return e(!0)}else if("function"===typeof k&&!k(a))return e(!0);return z(a)}function z(a){var b=n?fs.stat:fs.lstat;if(p>=l)return setImmediate(function(){z(a)});p++;b(a,function(b,h){var c={};if(b)return f(b);c.name=a;c.mode=h.mode;c.mtime=h.mtime;c.atime=h.atime;if(h.isDirectory())return J(c);if(h.isFile())return K(c);if(h.isSymbolicLink())return L(a)})}function K(a){var b=a.name.replace(q,t);A&&(b=A(b));u(b,function(d){if(d)return v(a,
b);M&&B(b,function(){v(a,b)});if(C)(n?fs.stat:fs.lstat)(b,function(d,c){if(a.mtime.getTime()>c.mtime.getTime())v(a,b);else return e()});else return e()})}function v(a,b){var d=fs.createReadStream(a.name),c=fs.createWriteStream(b,{mode:a.mode});d.on("error",f);c.on("error",f);if(D)D(d,c,a);else c.on("open",function(){d.pipe(c)});c.once("finish",function(){C&&fs.utimesSync(b,a.atime,a.mtime);e()})}function B(a,b){fs.unlink(a,function(a){return a?f(a):b()})}function J(a){var b=a.name.replace(q,t);u(b,
function(c){if(c)return N(a,b);E(a.name)})}function N(a,b){fs.mkdir(b,a.mode,function(b){if(b)return f(b);E(a.name)})}function E(a){fs.readdir(a,function(b,c){if(b)return f(b);c.forEach(function(b){x(path.join(a,b))});return e()})}function L(a){var b=a.replace(q,t);fs.readlink(a,function(a,c){if(a)return f(a);O(c,b)})}function O(a,b){n&&(a=path.resolve(r,a));u(b,function(c){if(c)return F(a,b);fs.readlink(b,function(c,d){if(c)return f(c);n&&(d=path.resolve(r,d));return d===a?e():B(b,function(){F(a,
b)})})})}function F(a,b){fs.symlink(a,b,function(a){return a?f(a):e()})}function u(a,b){fs.lstat(a,function(a){return a&&"ENOENT"===a.code?b(!0):b(!1)})}function f(a){if(c.stopOnError)return m(a);!g&&c.errs?g=fs.createWriteStream(c.errs):g||(g=[]);"undefined"===typeof g.write?g.push(a):g.write(a.stack+"\n\n");return e()}function e(a){a||p--;G++;if(y===G&&0===p&&void 0!==m)return g?m(g):m(null)}var m=w;w||(m=c,c={});var r=process.cwd(),q=path.resolve(r,H),t=path.resolve(r,I),k=c.filter,A=c.rename,
D=c.transform,M=!1!==c.clobber,C=c.modified,n=c.dereference,g=null,y=0,G=0,p=0,l=c.limit||ncp.limit||16,l=1>l?1:512<l?512:l;x(q)}; //# sourceMappingURL=ncp.js.map
